{% extends 'base.html' %}
{% block title %}GatePass Form{% endblock %}
{% block content %}
<div style="display:flex;gap:2.5rem;align-items:flex-start;width:100%;">
  {% include 'sidebar.html' %}
  <div style="flex:1;min-width:0;">
<style>
  .gatepass-container {
    max-width: 1100px;
    margin: 2.5rem auto;
    background: #fff;
    border-radius: 14px;
    box-shadow: 0 2px 12px rgba(0,0,0,0.07);
    padding: 2.2rem 2.2rem 2rem 2.2rem;
    font-family: 'Inter', sans-serif;
  }
  .gatepass-title {
    text-align: center;
    font-weight: 700;
    font-size: 1.3rem;
    color: #23272f;
    margin-bottom: 1.2rem;
  }
  .gatepass-form {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1.2rem 2rem;
    margin-bottom: 2rem;
  }
  .gatepass-form .form-group {
    display: flex;
    flex-direction: column;
    gap: 0.22rem;
  }
  .gatepass-form label {
    font-weight: 600;
    color: #374151;
    margin-bottom: 0.08rem;
    font-size: 1rem;
  }
  .gatepass-form input, .gatepass-form select {
    padding: 0.55rem 0.8rem;
    border: 1px solid #cbd5e1;
    border-radius: 7px;
    font-size: 1rem;
    background: #f8fafc;
    outline: none;
    transition: border 0.15s;
  }
  .gatepass-form input:focus, .gatepass-form select:focus {
    border-color: #6366f1;
  }
  .gatepass-form .full-width {
    grid-column: 1/3;
  }
  .gatepass-btn {
    grid-column: 1/3;
    margin-top: 1.2rem;
    padding: 0.7rem 0;
    background: #6366f1;
    color: #fff;
    border: none;
    border-radius: 7px;
    font-size: 1.08rem;
    font-weight: 600;
    letter-spacing: 0.5px;
    cursor: pointer;
    transition: background 0.16s;
  }
  .gatepass-btn:hover {
    background: #4f46e5;
  }
  .gatepass-table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0 0.5rem;
    margin-top: 2.2rem;
    font-size: 1rem;
  }
  .gatepass-table th {
    background: #f3f4f6;
    color: #374151;
    font-weight: 700;
    padding: 0.7rem 0.9rem;
    border-radius: 6px;
  }
  .gatepass-table td {
    background: #f8fafc;
    color: #23272f;
    font-weight: 500;
    padding: 0.7rem 0.9rem;
    border-radius: 6px;
    text-align: center;
  }
  .action-btn {
    background: #6366f1;
    color: #fff;
    border: none;
    border-radius: 6px;
    font-size: 1.1rem;
    padding: 0.5rem 1rem;
    cursor: pointer;
    transition: background 0.16s;
  }
  .action-btn:hover {
    background: #4f46e5;
  }
  @media (max-width: 900px) {
    .gatepass-form {
      grid-template-columns: 1fr;
    }
    .gatepass-form .full-width {
      grid-column: 1/2;
    }
    .gatepass-container {
      padding: 1.2rem 0.3rem;
    }
  }
</style>
<div class="gatepass-container">
  <div class="gatepass-title">Fill below Form to get the approval.</div>
  <form class="gatepass-form" method="post">
      {% csrf_token %}
    <div class="form-group">
      <label>First Name*</label>
      <input type="text" name="first_name" value="{{ user.first_name }}" required>
    </div>
    <div class="form-group">
      <label>Last Name*</label>
      <input type="text" name="last_name" value="{{ user.last_name }}" required>
    </div>
    <div class="form-group">
      <label>Company Name*</label>
      <input type="text" name="company_name" value="{{ profile.company_name }}" required>
    </div>
    <div class="form-group">
      <label>Designation*</label>
      <input type="text" name="designation" value="{{ profile.designation }}" required>
    </div>
    <div class="form-group">
      <label>Aadhar No*</label>
      <input type="text" name="aadhar_no" value="{{ profile.aadhar_no }}" required>
    </div>
    <div class="form-group">
      <label>Mobile No*</label>
      <input type="text" name="mobile" value="{{ profile.mobile }}" required>
    </div>
    <div class="form-group">
      <label>Email*</label>
      <input type="email" name="email" value="{{ user.email }}" required>
    </div>
    <div class="form-group">
      <label>Purpose of Meeting*</label>
      <input type="text" name="purpose" placeholder="Official" required>
    </div>
    <div class="form-group">
      <label>Employee Email ID*</label>
      <input type="email" name="employee_email" placeholder="employee@example.com" required>
    </div>
    <div class="form-group">
      <label>From Date*</label>
      <input type="date" name="from_date" required>
    </div>
    <div class="form-group">
      <label>Duration of visiting no of Days*</label>
      <input type="number" name="duration" min="1" required>
    </div>
    <div class="form-group">
      <label>Vehicle Available*</label>
      <select name="vehicle_available" required>
        <option value="No">No</option>
        <option value="Yes">Yes</option>
      </select>
    </div>
    <div class="form-group">
      <label>Visiting Department*</label>
      <select name="visiting_department" required>
        <option value="">--Select Department--</option>
        <option value="HR">HR</option>
        <option value="Admin">Admin</option>
        <option value="IT">IT</option>
        <option value="Security">Security</option>
      </select>
    </div>
    <button type="submit" class="gatepass-btn" id="gatepass-submit-btn">Submit</button>
<script>
  document.querySelector('.gatepass-form').addEventListener('submit', function(e) {
    document.getElementById('gatepass-submit-btn').disabled = true;
    document.getElementById('gatepass-submit-btn').innerText = 'Submitting...';
  });
</script>
  </form>
  </table>
</div>
</div>
{% endblock %}
